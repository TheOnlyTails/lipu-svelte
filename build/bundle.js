var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,c;function u(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function a(e){return null==e?"":e}function i(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function h(){return $(" ")}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function b(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function w(e){c=e}const x=[],k=[];let q=[];const E=[],j=Promise.resolve();let L=!1;function O(e){q.push(e)}function A(e){E.push(e)}const C=new Set;let S=0;function M(){if(0!==S)return;const e=c;do{try{for(;S<x.length;){const e=x[S];S++,w(e),N(e.$$)}}catch(e){throw x.length=0,S=0,e}for(w(null),x.length=0,S=0;k.length;)k.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];C.has(t)||(C.add(t),t())}q.length=0}while(x.length);for(;E.length;)E.pop()();L=!1,C.clear(),w(e)}function N(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const T=new Set;let z;function B(){z={r:0,c:[],p:z}}function H(){z.r||o(z.c),z=z.p}function D(e,t){e&&e.i&&(T.delete(e),e.i(t))}function G(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),z.c.push((()=>{T.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function I(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function J(e){e&&e.c()}function P(e,n,l,r){const{fragment:c,after_update:u}=e.$$;c&&c.m(n,l),r||O((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(O)}function R(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];q.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),q=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(x.push(e),L||(L=!0,j.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,s,l,r,u,a,i,d=[-1]){const f=c;w(t);const p=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};i&&i(p.root);let $=!1;if(p.ctx=l?l(t,s.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&u(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),$&&X(t,e)),n})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!r&&r(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(g)}else p.fragment&&p.fragment.c();s.intro&&D(t.$$.fragment),P(t,s.target,s.anchor,s.customElement),M()}w(f)}class K{$destroy(){R(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Q(t){let n,o,s;return{c(){n=p("button"),n.textContent="ðŸ”Š",_(n,"class","svelte-eb3889")},m(e,l){d(e,n,l),o||(s=m(n,"click",t[0]),o=!0)},p:e,i:e,o:e,d(e){e&&g(n),o=!1,s()}}}function U(e,t,n){let o,{audio:s}=t;return e.$$set=e=>{"audio"in e&&n(1,s=e.audio)},e.$$.update=()=>{2&e.$$.dirty&&(o=s.jan_lakuse?new Audio(s.jan_lakuse):s.kala_asi?new Audio(s.kala_asi):void 0)},[()=>{o&&o.play()},s]}class V extends K{constructor(e){super(),F(this,e,U,Q,l,{audio:1})}}function W(e){let t,n,o,s;return o=new V({props:{audio:e[3]}}),{c(){t=p("span"),t.textContent="Â·",n=h(),J(o.$$.fragment)},m(e,l){d(e,t,l),d(e,n,l),P(o,e,l),s=!0},p(e,t){const n={};8&t&&(n.audio=e[3]),o.$set(n)},i(e){s||(D(o.$$.fragment,e),s=!0)},o(e){G(o.$$.fragment,e),s=!1},d(e){e&&g(t),e&&g(n),R(o,e)}}}function Y(e){let t,n,o,s,l,r,c,u,f,m,y,b,w,x,k,q,E,j,L,O,A,C,S,M,N,T,z,I,J=e[0].word+"",P=e[0].usage_category+"",R=e[0].book+"",X=e[0].audio&&W(e);return{c(){t=p("div"),n=p("div"),o=$(e[4]),s=h(),l=p("div"),r=p("div"),c=p("dt"),u=$(J),f=h(),m=p("span"),y=p("span"),b=$(P),w=h(),x=p("span"),x.textContent="Â·",k=h(),q=p("span"),E=$(R),j=h(),X&&X.c(),L=h(),O=p("span"),O.textContent="Â·",A=h(),C=p("span"),C.textContent="more",S=h(),M=p("dd"),N=$(e[1]),_(n,"class","sp svelte-1mrnbg1"),_(c,"class","svelte-1mrnbg1"),_(r,"class","word_info svelte-1mrnbg1"),_(M,"class",T=a(e[2]?"":"shaded")+" svelte-1mrnbg1"),_(l,"class","word_main svelte-1mrnbg1"),_(t,"class",z=a("entry "+e[0].usage_category)+" svelte-1mrnbg1")},m(e,a){d(e,t,a),i(t,n),i(n,o),i(t,s),i(t,l),i(l,r),i(r,c),i(c,u),i(r,f),i(r,m),i(m,y),i(y,b),i(m,w),i(m,x),i(m,k),i(m,q),i(q,E),i(m,j),X&&X.m(m,null),i(m,L),i(m,O),i(m,A),i(m,C),i(l,S),i(l,M),i(M,N),I=!0},p(e,[n]){(!I||16&n)&&v(o,e[4]),(!I||1&n)&&J!==(J=e[0].word+"")&&v(u,J),(!I||1&n)&&P!==(P=e[0].usage_category+"")&&v(b,P),(!I||1&n)&&R!==(R=e[0].book+"")&&v(E,R),e[0].audio?X?(X.p(e,n),1&n&&D(X,1)):(X=W(e),X.c(),D(X,1),X.m(m,L)):X&&(B(),G(X,1,1,(()=>{X=null})),H()),(!I||2&n)&&v(N,e[1]),(!I||4&n&&T!==(T=a(e[2]?"":"shaded")+" svelte-1mrnbg1"))&&_(M,"class",T),(!I||1&n&&z!==(z=a("entry "+e[0].usage_category)+" svelte-1mrnbg1"))&&_(t,"class",z)},i(e){I||(D(X),I=!0)},o(e){G(X),I=!1},d(e){e&&g(t),X&&X.d()}}}function Z(e,t,n){let o,s,l,r,{word:c}=t,{selected_language:u}=t;return e.$$set=e=>{"word"in e&&n(0,c=e.word),"selected_language"in e&&n(5,u=e.selected_language)},e.$$.update=()=>{33&e.$$.dirty&&console.log(c.word,u),1&e.$$.dirty&&n(4,o=c.sitelen_pona?c.sitelen_pona.split(" ")[0]:""),1&e.$$.dirty&&n(3,s=c.audio),33&e.$$.dirty&&n(2,l=c.def[u]),37&e.$$.dirty&&n(1,r=l?c.def[u]:"(en) "+c.def.en),2&e.$$.dirty&&console.log(r)},[c,r,l,s,o,u]}class ee extends K{constructor(e){super(),F(this,e,Z,Y,l,{word:0,selected_language:5})}}function te(t){let n,o,s;return{c(){n=p("input"),_(n,"id","searchbar"),_(n,"class","searchbar main_input svelte-epcfer"),_(n,"placeholder","nimi"),_(n,"autocapitalize","off"),_(n,"autocomplete","off"),_(n,"autocorrect","off"),_(n,"spellcheck","false")},m(e,l){d(e,n,l),y(n,t[0]),o||(s=m(n,"input",t[1]),o=!0)},p(e,[t]){1&t&&n.value!==e[0]&&y(n,e[0])},i:e,o:e,d(e){e&&g(n),o=!1,s()}}}function ne(e,t,n){let{query:o}=t;return e.$$set=e=>{"query"in e&&n(0,o=e.query)},[o,function(){o=this.value,n(0,o)}]}class oe extends K{constructor(e){super(),F(this,e,ne,te,l,{query:0})}}function se(t){let n,o,s,l,r,c,a;return{c(){n=p("label"),o=p("input"),s=h(),l=p("img"),_(o,"type","checkbox"),_(o,"id","checkbox_lightmode"),_(o,"class","svelte-1rhze3c"),u(l.src,r="./assets/suno.png")||_(l,"src","./assets/suno.png"),_(l,"alt","Light Mode"),_(l,"class","svelte-1rhze3c"),_(n,"id","checkbox_lightmode_wrapper"),_(n,"class","svelte-1rhze3c")},m(e,r){d(e,n,r),i(n,o),o.checked=t[0],i(n,s),i(n,l),c||(a=m(o,"change",t[1]),c=!0)},p(e,[t]){1&t&&(o.checked=e[0])},i:e,o:e,d(e){e&&g(n),c=!1,a()}}}function le(e,t,n){let{lightmode:o}=t;return e.$$set=e=>{"lightmode"in e&&n(0,o=e.lightmode)},[o,function(){o=this.checked,n(0,o)}]}class re extends K{constructor(e){super(),F(this,e,le,se,l,{lightmode:0})}}function ce(e,t,n){const o=e.slice();return o[3]=t[n][0],o[4]=t[n][1],o}function ue(e){let t,n,o,s=e[4].name_endonym+"";return{c(){t=p("option"),n=$(s),t.__value=o=e[3],t.value=t.__value},m(e,o){d(e,t,o),i(t,n)},p(e,l){2&l&&s!==(s=e[4].name_endonym+"")&&v(n,s),2&l&&o!==(o=e[3])&&(t.__value=o,t.value=t.__value)},d(e){e&&g(t)}}}function ae(t){let n,o,s,l,r,c,a,$=Object.entries(t[1]),v=[];for(let e=0;e<$.length;e+=1)v[e]=ue(ce(t,$,e));return{c(){n=p("label"),o=p("select");for(let e=0;e<v.length;e+=1)v[e].c();s=h(),l=p("img"),_(o,"id","language_selector"),_(o,"class","main_input svelte-c3tgvh"),void 0===t[0]&&O((()=>t[2].call(o))),u(l.src,r="./assets/world.png")||_(l,"src","./assets/world.png"),_(l,"alt","Select language"),_(l,"class","svelte-c3tgvh"),_(n,"id","language_selector_wrapper"),_(n,"title","Select Language"),_(n,"class","svelte-c3tgvh")},m(e,r){d(e,n,r),i(n,o);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(o,null);b(o,t[0],!0),i(n,s),i(n,l),c||(a=m(o,"change",t[2]),c=!0)},p(e,[t]){if(2&t){let n;for($=Object.entries(e[1]),n=0;n<$.length;n+=1){const s=ce(e,$,n);v[n]?v[n].p(s,t):(v[n]=ue(s),v[n].c(),v[n].m(o,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=$.length}3&t&&b(o,e[0])},i:e,o:e,d(e){e&&g(n),f(v,e),c=!1,a()}}}function ie(e,t,n){let{selected_language:o}=t,{languages:s}=t;return e.$$set=e=>{"selected_language"in e&&n(0,o=e.selected_language),"languages"in e&&n(1,s=e.languages)},[o,s,function(){o=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(0,o),n(1,s)}]}class de extends K{constructor(e){super(),F(this,e,ie,ae,l,{selected_language:0,languages:1})}}function ge(e){let t,n,o,s,l,r,c,u,a,f,$,m,v,y,b,w,x,q;function E(t){e[4](t)}let j={};function L(t){e[5](t)}void 0!==e[0]&&(j.query=e[0]),l=new oe({props:j}),k.push((()=>I(l,"query",E)));let O={};function C(t){e[6](t)}void 0!==e[1]&&(O.lightmode=e[1]),$=new re({props:O}),k.push((()=>I($,"lightmode",L)));let S={languages:e[3]};return void 0!==e[2]&&(S.selected_language=e[2]),y=new de({props:S}),k.push((()=>I(y,"selected_language",C))),{c(){t=p("nav"),n=p("div"),n.innerHTML='<img src="./assets/icon.png" alt="lipu Linku" class="svelte-16d0fwg"/>\n        lipu Linku',o=h(),s=p("div"),J(l.$$.fragment),c=h(),u=p("button"),u.textContent="Back to Dictionary",a=h(),f=p("div"),J($.$$.fragment),v=h(),J(y.$$.fragment),w=h(),x=p("a"),x.innerHTML='<img src="./assets/ijo-a.png" alt="About Linku" class="svelte-16d0fwg"/>',_(n,"class","logo svelte-16d0fwg"),_(u,"id","normal_mode_button"),_(u,"onclick","normal_mode()"),_(u,"class","svelte-16d0fwg"),_(s,"class","search_container svelte-16d0fwg"),_(x,"href","about"),_(x,"title","About Linku"),_(f,"class","svelte-16d0fwg"),_(t,"class","svelte-16d0fwg")},m(e,r){d(e,t,r),i(t,n),i(t,o),i(t,s),P(l,s,null),i(s,c),i(s,u),i(t,a),i(t,f),P($,f,null),i(f,v),P(y,f,null),i(f,w),i(f,x),q=!0},p(e,[t]){const n={};!r&&1&t&&(r=!0,n.query=e[0],A((()=>r=!1))),l.$set(n);const o={};!m&&2&t&&(m=!0,o.lightmode=e[1],A((()=>m=!1))),$.$set(o);const s={};8&t&&(s.languages=e[3]),!b&&4&t&&(b=!0,s.selected_language=e[2],A((()=>b=!1))),y.$set(s)},i(e){q||(D(l.$$.fragment,e),D($.$$.fragment,e),D(y.$$.fragment,e),q=!0)},o(e){G(l.$$.fragment,e),G($.$$.fragment,e),G(y.$$.fragment,e),q=!1},d(e){e&&g(t),R(l),R($),R(y)}}}function fe(e,t,n){let{query:o}=t,{lightmode:s}=t,{selected_language:l}=t,{languages:r}=t;return e.$$set=e=>{"query"in e&&n(0,o=e.query),"lightmode"in e&&n(1,s=e.lightmode),"selected_language"in e&&n(2,l=e.selected_language),"languages"in e&&n(3,r=e.languages)},[o,s,l,r,function(e){o=e,n(0,o)},function(e){s=e,n(1,s)},function(e){l=e,n(2,l)}]}class pe extends K{constructor(e){super(),F(this,e,fe,ge,l,{query:0,lightmode:1,selected_language:2,languages:3})}}function $e(e,t,n){const o=e.slice();return o[10]=t[n][0],o[11]=t[n][1],o[10]=n,o}function he(e){let t,n,o;return t=new ee({props:{word:e[11],selected_language:e[2]}}),{c(){J(t.$$.fragment),n=h()},m(e,s){P(t,e,s),d(e,n,s),o=!0},p(e,n){const o={};8&n&&(o.word=e[11]),4&n&&(o.selected_language=e[2]),t.$set(o)},i(e){o||(D(t.$$.fragment,e),o=!0)},o(e){G(t.$$.fragment,e),o=!1},d(e){R(t,e),e&&g(n)}}}function me(e){let t,n,o,s,l,r,c,u;function a(t){e[5](t)}function $(t){e[6](t)}function m(t){e[7](t)}let v={languages:e[4]};void 0!==e[0]&&(v.query=e[0]),void 0!==e[1]&&(v.lightmode=e[1]),void 0!==e[2]&&(v.selected_language=e[2]),n=new pe({props:v}),k.push((()=>I(n,"query",a))),k.push((()=>I(n,"lightmode",$))),k.push((()=>I(n,"selected_language",m)));let y=Object.entries(e[3]),b=[];for(let t=0;t<y.length;t+=1)b[t]=he($e(e,y,t));const w=e=>G(b[e],1,1,(()=>{b[e]=null}));return{c(){t=p("div"),J(n.$$.fragment),r=h(),c=p("div");for(let e=0;e<b.length;e+=1)b[e].c();_(c,"class","width_limiter svelte-16rcv3q"),_(t,"class","app svelte-16rcv3q")},m(e,o){d(e,t,o),P(n,t,null),i(t,r),i(t,c);for(let e=0;e<b.length;e+=1)b[e]&&b[e].m(c,null);u=!0},p(e,[t]){const r={};if(!o&&1&t&&(o=!0,r.query=e[0],A((()=>o=!1))),!s&&2&t&&(s=!0,r.lightmode=e[1],A((()=>s=!1))),!l&&4&t&&(l=!0,r.selected_language=e[2],A((()=>l=!1))),n.$set(r),12&t){let n;for(y=Object.entries(e[3]),n=0;n<y.length;n+=1){const o=$e(e,y,n);b[n]?(b[n].p(o,t),D(b[n],1)):(b[n]=he(o),b[n].c(),D(b[n],1),b[n].m(c,null))}for(B(),n=y.length;n<b.length;n+=1)w(n);H()}},i(e){if(!u){D(n.$$.fragment,e);for(let e=0;e<y.length;e+=1)D(b[e]);u=!0}},o(e){G(n.$$.fragment,e),b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)G(b[e]);u=!1},d(e){e&&g(t),R(n),f(b,e)}}}function _e(e,t,n){let o;const s=JSON.parse((l="https://linku.la/jasima/data.json",(r=new XMLHttpRequest).open("GET",l,!1),r.send(null),r.responseText));var l,r;const c=s.data,u=s.languages;let a="",i="en",d=!1;return e.$$.update=()=>{1&e.$$.dirty&&n(3,o=function(e,t){const n=Object.entries(e).filter((([e,n])=>function(e,t){return e.word.includes(t)}(n,t)));return Object.fromEntries(n)}(c,a)),2&e.$$.dirty&&(d?document.documentElement.classList.add("lightmode"):document.documentElement.classList.remove("lightmode"))},[a,d,i,o,u,function(e){a=e,n(0,a)},function(e){d=e,n(1,d)},function(e){i=e,n(2,i)}]}return new class extends K{constructor(e){super(),F(this,e,_e,me,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
